<html>
 <head>
  <title>admin</title>
  <link rel="stylesheet" href="/admin/css/admin.css">
  <script src="/admin/js/adminUsers.js"></script>
  <script src="/admin/js/adminBatches.js"></script>
  <script src="/admin/js/adminStats.js"></script>
  <script>
    listUsers();
    listBatches();
    getStats();
  </script>
  <script>
    function enterTrigger(inputId, buttonId) {
      var input = document.getElementById(inputId);
      input.addEventListener("keyup", function(event){
        if(event.keyCode === 13){
          event.preventDefault();
          document.getElementById(buttonId).click();
        }
      });
    }
  </script>
 </head>

 <body>
  <div class="header">Dashboard 1 lettre 1 sourire</div>

  <div class="split right centered">
   <h1 class="admin-header">UTILISATEURS</h1>
   <div class="admin-window">
    <p class="table-tittle" style="color: #3D5A80;">Gestion utilisateur</p>
    <hr color="#3D5A80">

    <input class="text-field" type="text" placeholder="Identifiant" name="username" id="add user username">
    <input class="text-field" type="password" placeholder="Mot de passe" name="password" id="add user password">
    <br>
    <label id="checkBoxLabel" for="admin-checkBox">admin<input id="admin-checkBox" type="checkbox" name="admin"></label>
    <button id = "addButton" type="" onclick="addUser()">Ajouter</button>
    <script>enterTrigger("add user password", "addButton")</script>
    <br><br>

    <input class="text-field" type="text" placeholder="Identifiant" name="username" id="remove user username">
    <button id = "removeButton" type="" onclick="removeUser()">Supprimer</button>
    <script>enterTrigger("remove user username", "removeButton")</script>
   </div>

   <div class="admin-window">
    <p class="table-tittle">Utilisateurs</p>
    <hr color="#3D5A80">
    <table id="users-table" overflow="auto">
     <tr>
      <th scope="col">Identifiant</th>
      <th scope="col">Admin</th>
     </tr>
    </table>
   </div>
  </div>

  <div class="split left centered">
   <h1 class="admin-header">LETTRES</h1>
   <div class="admin-window">
    <p class="table-tittle" style="color: #3D5A80;">Statistiques</p>
    <hr color="#3D5A80">
    <p>En attente:</p>
    <p id="queued-count">0</p>
    <p>En review:</p>
    <p id="in-review-count">0</p>
    <p>Acceptées:</p>
    <p id="accepted-count">0</p>
    <p>Rejetées:</p>
    <p id="rejected-count">0</p>
   </div>
   <div class="admin-window" style="overflow: auto;">
    <p class="table-tittle">Batch de lettres</p>
    <hr color="#3D5A80">
    <table id="batches-table">
     <tr>
      <th scope="col">Index</th>
      <th scope="col">Type</th>
      <th scope="col">Nombre de lettres</th>
      <th scope="col">Déjà téléchargé</th>
      <th scope="col">Téléchargement</th>
     </tr>
     <tr>
      <th scope="row">F544</th>
      <td>45</td>
      <td>222</td>
      <td>oui</td>
     </tr><tr>
     <th scope="row">F544</th>
     <td>45</td>
     <td>222</td>
     <td>oui</td>
     </tr><tr>
     <th scope="row">F544</th>
     <td>45</td>
     <td>222</td>
     <td>oui</td>
     </tr><tr>
     <th scope="row">F544</th>
     <td>45</td>
     <td>222</td>
     <td>oui</td>
     </tr><tr>
     <th scope="row">F544</th>
     <td>45</td>
     <td>222</td>
     <td>oui</td>
     </tr>
    </table>
   </div>
  </div>

 </body>

</html>
