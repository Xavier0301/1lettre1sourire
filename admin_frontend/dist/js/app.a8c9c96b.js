(function(e){function s(s){for(var r,n,i=s[0],l=s[1],c=s[2],d=0,p=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&p.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(s);while(p.length)p.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,s=0;s<a.length;s++){for(var t=a[s],r=!0,i=1;i<t.length;i++){var l=t[i];0!==o[l]&&(r=!1)}r&&(a.splice(s--,1),e=n(n.s=t[0]))}return e}var r={},o={app:0},a=[];function n(s){if(r[s])return r[s].exports;var t=r[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=e,n.c=r,n.d=function(e,s,t){n.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,s){if(1&s&&(e=n(e)),8&s)return e;if(4&s&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var r in e)n.d(t,r,function(s){return e[s]}.bind(null,r));return t},n.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(s,"a",s),s},n.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},n.p="/admin/frontend/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=s,i=i.slice();for(var c=0;c<i.length;c++)s(i[c]);var u=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,s,t){e.exports=t("56d7")},"034f":function(e,s,t){"use strict";var r=t("85ec"),o=t.n(r);o.a},"56d7":function(e,s,t){"use strict";t.r(s);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),o=(t("d3b7"),t("bc3a")),a=t.n(o),n={},i=a.a.create(n);i.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,s){e.axios=i,window.axios=i,Object.defineProperties(e.prototype,{axios:{get:function(){return i}},$axios:{get:function(){return i}}})},r["a"].use(Plugin);Plugin;var l=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container",attrs:{id:"app"}},[e._v(" - "),t("div",{class:"alert alert-"+e.flash_type,attrs:{id:"flash_container"}},[t("h2",[e._v(e._s(e.flash_message))])]),t("div",{staticClass:"row alert alert-info",attrs:{id:"batch_download"}},[t("button",{staticClass:"btn btn-success btn-lg col-xs-12 col-sm-6 col-sm-offset-3",attrs:{id:"approve"},on:{click:e.goBatchDl}},[e._v(" Batch Download Letters ")])]),t("div",{staticClass:"row alert alert-info",attrs:{id:"go_review"}},[t("button",{staticClass:"btn btn-lg btn-primary col-xs-12 col-sm-6 col-sm-offset-3",attrs:{id:"approve"},on:{click:e.goReview}},[e._v(" Go to review mode ")])]),t("div",{staticClass:"row alert alert-info",attrs:{id:"batch_download"}},[t("h1",[e._v("Enregistrez un nouvel utilisateur")]),t("div",{staticClass:"form-group col-sm-12 col-md-4"},[t("label",{attrs:{for:"register_pseudo"}},[e._v("pseudo utilisateur : ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.register_username,expression:"register_username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username",name:"username",id:"register_pseudo"},domProps:{value:e.register_username},on:{input:function(s){s.target.composing||(e.register_username=s.target.value)}}}),t("br")]),t("div",{staticClass:"form-group col-sm-12 col-md-4"},[t("label",{attrs:{for:"register_pass"}},[e._v("mot de passe utilisateur : ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.register_password,expression:"register_password"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Password",name:"password",id:"register_pass"},domProps:{value:e.register_password},on:{input:function(s){s.target.composing||(e.register_password=s.target.value)}}})]),t("div",{staticClass:"form-group col-sm-12 col-md-4"},[t("label",{attrs:{for:"pass"}},[e._v("Administrateur ? ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.register_is_admin,expression:"register_is_admin"}],staticClass:"form-control",attrs:{type:"checkbox",name:"password",id:"pass"},domProps:{checked:Array.isArray(e.register_is_admin)?e._i(e.register_is_admin,null)>-1:e.register_is_admin},on:{change:function(s){var t=e.register_is_admin,r=s.target,o=!!r.checked;if(Array.isArray(t)){var a=null,n=e._i(t,a);r.checked?n<0&&(e.register_is_admin=t.concat([a])):n>-1&&(e.register_is_admin=t.slice(0,n).concat(t.slice(n+1)))}else e.register_is_admin=o}}})]),t("button",{staticClass:"btn btn-lg btn-warning col-xs-12 col-sm-6 col-sm-offset-3",attrs:{id:"approve",disabled:e.block_button},on:{click:e.registerUser}},[e._v(" Ajoutez Utilisateur ")])]),t("div",{staticClass:"row alert alert-info",attrs:{id:"user_list"}},[t("h1",[e._v("Liste des utilisateurs")]),e._l(e.users,(function(s){return t("div",{key:s.username,staticClass:"row"},[t("div",{staticClass:"col-xs-4"},[t("p",[e._v(e._s(s.username))])]),t("div",{staticClass:"col-xs-4"},[s.isAdmin?t("strong",[e._v("ADMIN")]):e._e()]),t("button",{staticClass:"btn btn-lg btn-danger col-xs-4",attrs:{id:"approve",disabled:e.block_button},on:{click:function(t){return e.removeUser(s.username)}}},[e._v(" Remove ")]),t("hr")])}))],2),t("div",{class:e.login_hide,attrs:{id:"login_overlay"}},[t("div",{staticClass:"row alert alert-info col-xs-12 \n      col-xs-offset-0 col-sm-6 col-sm-offset-3",attrs:{id:"login_form"}},[t("form",[t("div",{staticClass:"alert alert-danger",class:e.login_error_hide},[e._v(" "+e._s(e.login_error)+" ")]),t("p",[e._v("Bienvenue !")]),t("div",{staticClass:"form-group col-sm-12"},[t("label",{attrs:{for:"pseudo"}},[e._v("Votre pseudo : ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username",name:"username",id:"pseudo"},domProps:{value:e.username},on:{input:function(s){s.target.composing||(e.username=s.target.value)}}}),t("br")]),t("div",{staticClass:"form-group col-sm-12"},[t("label",{attrs:{for:"pass"}},[e._v("Votre mot de passe : ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",name:"password",id:"pass"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}})]),t("input",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:e.block_button,value:"S'identifier"},on:{click:e.login}})])])])])},c=[],u={name:"App",data:function(){return{flash_message:"Letter is loading .... ",flash_type:"info",block_button:!1,username:"",password:"",users:{},login_hide:"",login_error:"",login_error_hide:"hide",register_username:"",register_password:"",register_is_admin:!1}},mounted:function(){var e=this;this.letter=this.loading_letter,this.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",this.axios.defaults.withCredentials=!0,this.axios.interceptors.response.use((function(s){return 401===s.status&&e.showLogin(),s}),(function(s){return void 0!=s.response&&401===s.response.status&&e.showLogin(),Promise.reject(s)})),this.listUser()},methods:{registerUser:function(){var e=this;this.letter=this.loading_letter,this.flash_message="enregistrement en cours .... ",this.flash_type="info",this.block_button=!0,this.axios.post("/user/register",{username:this.register_username,password:this.register_password,admin:this.register_is_admin}).then((function(s){e.flash_message="enregistrement réussi",e.flash_type="success",e.block_button=!1,e.listUser()})).catch((function(s){console.log(s),e.flash_message=s,s.response&&(e.flash_message=e.flash_message+" ( "+s.response.data+" )"),e.flash_type="danger",e.block_button=!1}))},listUser:function(){var e=this;this.flash_message="chargement en cours .... ",this.flash_type="info",this.block_button=!0,this.axios.get("/user/list").then((function(s){e.users=s.data,e.flash_message="OK",e.flash_type="success",e.block_button=!1})).catch((function(s){console.log(s),e.flash_message=s,s.response&&(e.flash_message=e.flash_message+" ( "+s.response.data+" )"),e.flash_type="danger",e.block_button=!1}))},removeUser:function(e){var s=this;this.flash_message="suppression en cours .... ",this.flash_type="info",this.block_button=!0,this.axios.post("/user/remove",{username:e}).then((function(e){s.flash_message="suppression réussi",s.flash_type="success",s.block_button=!1,s.listUser()})).catch((function(e){console.log(e),s.flash_message=e,e.response&&(s.flash_message=s.flash_message+" ( "+e.response.data+" )"),s.flash_type="danger",s.block_button=!1}))},login:function(){var e=this;this.block_button=!0,this.axios.post("/login",{username:this.username,password:this.password}).then((function(s){e.password="",e.login_hide="hide",e.block_button=!1,e.flash_message="Connexion Réussie",e.flash_type="success"})).catch((function(s){console.log(s),e.flash_message=s,e.flash_type="danger",401===s.response.status?e.login_error=s.response.data:e.login_error=s,e.block_button=!1,e.login_error_hide=""}))},showLogin:function(){this.login_hide=""},goReview:function(){window.location.href="/review"},goBatchDl:function(){window.location.href="/admin/batchDownload"}}},d=u,p=(t("034f"),t("2877")),f=Object(p["a"])(d,l,c,!1,null,null,null),m=f.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(m)}}).$mount("#app")},"85ec":function(e,s,t){}});
//# sourceMappingURL=app.a8c9c96b.js.map